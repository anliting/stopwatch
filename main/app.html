<!doctype html><meta name=viewport content="initial-scale=1,width=device-width"><link rel=icon href=data:,><title>Stopwatch</title><body><script type=module>function doe(t){let e=0,n={function:e=>e(t),number:o,object:i,string:a};return s([...arguments].slice(1)),t;function o(t){e=t}function i(n){function o(){n.map(s)}n instanceof Array?o():n instanceof Node?t[e?"removeChild":"appendChild"](n):"length"in n||n[Symbol.iterator]?(n=Array.from(n),o()):e?Object.entries(n).map((([e,n])=>t.setAttribute(e,n))):Object.assign(t,n)}function a(e){t.appendChild(document.createTextNode(e))}function s(t){for(let e;e=n[typeof t];t=e(t));}}let methods={html(){return doe(document.documentElement,...arguments)},head(){return doe(document.head,...arguments)},body(){return doe(document.body,...arguments)}};var doe$1=new Proxy(doe,{get:(t,e)=>methods[e]||function(){return doe(document.createElement(e),...arguments)}}),style="\n    .stopwatch>.control>.button{\n        position:relative;\n        overflow:hidden;\n    }\n    .stopwatch>.control>.button{\n        background-color:#3f3f3f;\n        font-size:calc(32px * var(--zoom));\n        height:calc(64px * var(--zoom));\n        color:white;\n        text-shadow:\n            0 0 .05em rgba(0,0,0,.4),\n            .05em .05em .05em rgba(0,0,0,.2);\n        user-select:none;\n        text-align:center;\n        line-height:calc(64px * var(--zoom));\n    }\n    @keyframes click{\n        from{\n            background:#1f1f1f;\n        }\n    }\n    .stopwatch>.control>.button:hover{\n        background-color:#4f4f4f;\n    }\n    .stopwatch.a>.control{\n        position:relative;\n        margin:0 auto;\n        width:calc(600px * var(--zoom));\n        height:calc(64px * var(--zoom));\n    }\n    .stopwatch.a>.control>.button{\n        position:absolute;\n        width:48%;\n    }\n    .stopwatch.a>.control>.button.a{\n        left:1%;\n    }\n    .stopwatch.a>.control>.button.b{\n        right:1%;\n    }\n    .stopwatch.b>.control>.button{\n        width:calc(302px * var(--zoom));\n        margin:0 auto;\n    }\n    .stopwatch.b>.control>.button+.button{\n        margin-top:calc(8px * var(--zoom));\n    }\n";function msToString(t){let e=n(t%1e3,3);return e=n((t=~~(t/1e3))%60,2)+"."+e,e=n((t=~~(t/60))%60,2)+":"+e,e=n((t=~~(t/60))%100,2)+":"+e,t=~~(t/100),e;function n(t,e){for(t=""+t;t.length<e;)t="0"+t;return t}}function Clock(){this._node=[...Array(12)].map(((t,e)=>doe$1.span((t=>{doe$1(t.style,{left:`calc(${e} * .6 * var(--baseFontSize) * var(--zoom))`})})))),this.time=0,this.ui=doe$1.div({className:"clock"},this._node)}function createButton(){let t=doe$1.div();return{node:t,effect(){doe$1(t.style,{animation:"none"}),t.offsetLeft,doe$1(t.style,{animation:"click 500ms linear",animationFillMode:"forwards"})}}}function Stopwatch(){this._layout={composition:"a",zoom:1},this._node={};let t=t=>{t.preventDefault(),t.stopPropagation(),this[this._isRunning?"_pause":"_start"](t.timeStamp)},e=t=>{t.preventDefault(),t.stopPropagation(),this._reset()};this._clock=new Clock;let{div:n}=doe$1,o=createButton(),i=createButton();this.ui=n({className:"stopwatch a"},this._clock.ui,n({className:"control"},doe$1(o.node,{className:"button a",onmousedown:e=>{0==e.button&&(o.effect(),t(e))},ontouchstart:e=>{o.effect(),t(e)}},this._node.startOrPauseButton=n("Start (space)")),doe$1(i.node,{className:"button b",onmousedown:t=>{0==t.button&&(i.effect(),e(t))},ontouchstart:t=>{i.effect(),e(t)}},"Reset (R)")))}Object.defineProperty(Clock.prototype,"time",{set(t){let e=msToString(t);this._node.map(((t,n)=>{t.textContent!=e[n]&&(t.textContent=e[n])}))}}),Clock.style="\n    .stopwatch>.clock{\n        text-align:center;\n        font-family:monospace;\n        margin:calc(16px * var(--zoom)) 0;\n        position:relative;\n        font-size:calc(var(--baseFontSize) * var(--zoom));\n        height:calc(var(--baseFontSize) * var(--zoom) * 1.2);\n    }\n    .stopwatch>.clock>*{\n        position:absolute;\n    }\n    .stopwatch.a>.clock{\n        --baseFontSize:64px;\n        left:calc(69.6px * var(--zoom));\n    }\n    .stopwatch.b>.clock{\n        --baseFontSize:40px;\n        left:calc(7px * var(--zoom));\n    }\n",Stopwatch.prototype._pause=function(t){this._node.startOrPauseButton.textContent="Resume (space)",cancelAnimationFrame(this._requestId),this._isRunning=0,this._stopTime=t,this._setClock(t)},Stopwatch.prototype._reset=function(){this._isRunning&&this._pause(),this._startTime=void 0,this._clock.time=0,this._node.startOrPauseButton.textContent="Start (space)"},Stopwatch.prototype._setClock=function(t){this._clock.time=~~(t-this._startTime)},Stopwatch.prototype._start=function(t){this._node.startOrPauseButton.textContent="Pause (space)",this._startTime=this._startTime?t-(this._stopTime-this._startTime):t,this._isRunning=1;let e=t=>{this._requestId=requestAnimationFrame(e),this._setClock(t)};this._requestId=requestAnimationFrame(e)};let map={" ":function(t){this[this._isRunning?"_pause":"_start"](t.timeStamp)},r(){this._reset()}};Object.defineProperty(Stopwatch.prototype,"layout",{set(t){this.ui.classList.remove(this._layout.composition),this.ui.classList.add((this._layout=t).composition)}}),Stopwatch.prototype.onKeyDown=function(t){t.altKey||t.ctrlKey||t.shiftKey||t.repeat||!(t.key in map)||(t.preventDefault(),t.stopPropagation(),map[t.key].call(this,t))},Stopwatch.style=style+Clock.style;let{a:a,div:div,span:span}=doe$1;function Page(){let t=new Stopwatch;this._stopwatch=t,this.node=div({className:"page"},t.ui,a({href:"https://althea.anliting.com/stopwatch",className:"bottomA",onclick:t=>this.onHrefClick(t)},"Readme"),a({className:"bottomB",href:"https://anliting.com/",onclick:t=>this.onHrefClick(t)},"An-Li Ting"))}Page.style=`\n    .page{\n        position:relative;\n        margin:calc(8px *  var(--zoom));\n        width:calc(100% - 16px *  var(--zoom));\n        height:calc(100% - 16px *  var(--zoom));\n        color:white;\n        text-shadow:\n            0 0 .05em rgba(0,0,0,.4),\n            .05em .05em .05em rgba(0,0,0,.2);\n        font-size:calc(16px * var(--zoom));\n        text-align:center;\n    }\n    .page::after{\n        content:'';\n        display:inline-block;\n        height:100%;\n        vertical-align:middle;\n    }\n    .page>.stopwatch{\n        display:inline-block;\n        vertical-align:middle;\n    }\n    .page>.bottomA{\n        position:absolute;\n        left:0;\n        bottom:0;\n    }\n    .page>.bottomB{\n        position:absolute;\n        right:0;\n        bottom:0;\n        font-size:calc(8px * var(--zoom));\n        font-family:serif;\n        font-style:italic;\n    }\n    ${Stopwatch.style}\n`,Page.prototype.onHrefClick=function(){},Page.prototype.onKeyDown=function(t){this._stopwatch.onKeyDown(t)},Object.defineProperty(Page.prototype,"size",{set(t){this._size=t;let e=this._size[1]/this._size[0],n=t=>t<e?t/e:e/t,o={};this._stopwatch.layout=o=n(286.4/320)<=n(243.2/616)?{composition:"a",zoom:243.2/616<e?this._size[0]/616:this._size[1]/243.2}:{composition:"b",zoom:286.4/320<e?this._size[0]/320:this._size[1]/286.4},this.node.style.setProperty("--zoom",o.zoom)}});let size,page=new Page;doe$1.head(doe$1.style(`\n    html{\n        height:100%;\n    }\n    body{\n        margin:0;\n        overflow:hidden;\n        background-color:#7f7f7f;\n        font-family:sans-serif;\n        font-size:16px;\n        line-height:1.2;\n        height:100%;\n        touch-action:none;\n    }\n    a{\n        color:unset;\n        text-decoration:unset;\n    }\n    ${Page.style}\n`)),doe$1.body(page.node),onkeydown=page.onKeyDown.bind(page);{let t=document.body.getBoundingClientRect();size=page.size=[t.width,t.height]}onresize=t=>{let e=document.body.getBoundingClientRect();size[0]==e.width&&size[1]==e.height||(size=page.size=[e.width,e.height])};let eletron=require("electron");page.onHrefClick=t=>{t.preventDefault(),eletron.shell.openExternal(t.target.href)};</script>